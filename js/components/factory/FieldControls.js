import { jsxDEV as _jsxDEV } from "react/jsx-dev-runtime";
const _jsxFileName = "E:/Projects/endfield-factory-planner/ts/components/factory/FieldControls.tsx";
import { ActionButton } from "../common/ActionButton.js";
import { useLocalization } from "../../contexts/localization.js";
import { useEdit } from "../../contexts/edit.js";
import { EndfieldLogo } from "./EndfieldLogo.js";
import { useCopyPaste } from "../../contexts/copyPaste.js";
import { useItemSelectors } from "../../contexts/itemSelectors.js";
import { useFixturePlacement } from "../../contexts/fixturePlacement.js";
import { usePathEditing } from "../../contexts/pathEditing.js";
import { useRegionPlan } from "../../contexts/regionPlan.js";
import { EditMode } from "../../types/editMode.js";
import { FixtureBehaviorType } from "../../data/pathFixtures.js";
import { Undo2, Redo2, Copy, Clipboard, CopyPlus, Trash2, RotateCw, RotateCcw, Plus, Shuffle, Wrench, X, Split, Merge, Droplets, BriefcaseConveyorBelt, Map, Download, Globe } from "lucide-react";
import { PathTypeID } from "../../types/data.js";
export function FieldControls() {
    const { ui } = useLocalization();
    const { editMode, selectedIDs, canUndo, canRedo, handleUndo, handleRedo, handleDelete, handleRotate, openTemplateModal, openOnboarding, exportCurrentProject, canExportProject } = useEdit();
    const { handleCopy, handlePaste, handleDuplicate } = useCopyPaste();
    const { handlePlace } = useItemSelectors();
    const { startFixturePlacing, placingBehaviorType, cancelFixturePlacement } = useFixturePlacement();
    const pathEditing = usePathEditing();
    const { openRegionPlan } = useRegionPlan();
    const canDelete = editMode === EditMode.MANIPULATE && selectedIDs.size > 0;
    const canPlace = editMode === EditMode.MANIPULATE;
    const canPlaceFixture = editMode === EditMode.MANIPULATE || editMode === EditMode.FIXTURE_PLACING;
    const canRotate = editMode === EditMode.MANIPULATE && selectedIDs.size > 0;
    const canCopy = editMode === EditMode.MANIPULATE && selectedIDs.size > 0;
    const canPaste = editMode === EditMode.MANIPULATE;
    const canDuplicate = editMode === EditMode.MANIPULATE && selectedIDs.size > 0;
    const isPlacingBridge = placingBehaviorType === FixtureBehaviorType.BRIDGE;
    const isPlacingSplitter = placingBehaviorType === FixtureBehaviorType.SPLITTER;
    const isPlacingConverger = placingBehaviorType === FixtureBehaviorType.CONVERGER;
    const isPlacingControlPort = placingBehaviorType === FixtureBehaviorType.CONTROL_PORT;
    const iconSize = 14;
    return (_jsxDEV("div", { className: "factory-controls", children: [_jsxDEV(EndfieldLogo, { onClick: openOnboarding, title: ui.returnToOnboardingTooltip, fit: 'width' }, void 0, false, { fileName: _jsxFileName, lineNumber: 54, columnNumber: 13 }, this), _jsxDEV("div", { className: "field-controls-group", children: [_jsxDEV("div", { className: "field-controls-label", children: ui.fieldControlsGroupProject }, void 0, false, { fileName: _jsxFileName, lineNumber: 56, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: openTemplateModal, title: ui.projectSettings, children: [_jsxDEV(Map, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 58, columnNumber: 21 }, this), " ", ui.projectSettings] }, void 0, true, { fileName: _jsxFileName, lineNumber: 57, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: openRegionPlan, title: ui.regionPlanTitle, children: [_jsxDEV(Globe, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 61, columnNumber: 21 }, this), " ", ui.regionPlanOpen] }, void 0, true, { fileName: _jsxFileName, lineNumber: 60, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: exportCurrentProject, disabled: !canExportProject, title: ui.projectExportTooltip, children: [_jsxDEV(Download, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 64, columnNumber: 21 }, this), " ", ui.projectExport] }, void 0, true, { fileName: _jsxFileName, lineNumber: 63, columnNumber: 17 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 55, columnNumber: 13 }, this), _jsxDEV("div", { className: "field-controls-group", children: [_jsxDEV("div", { className: "field-controls-label", children: ui.fieldControlsGroupEdit }, void 0, false, { fileName: _jsxFileName, lineNumber: 68, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handleUndo, disabled: !canUndo, title: ui.undoTooltip, children: [_jsxDEV(Undo2, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 70, columnNumber: 21 }, this), " ", ui.undo] }, void 0, true, { fileName: _jsxFileName, lineNumber: 69, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handleRedo, disabled: !canRedo, title: ui.redoTooltip, children: [_jsxDEV(Redo2, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 73, columnNumber: 21 }, this), " ", ui.redo] }, void 0, true, { fileName: _jsxFileName, lineNumber: 72, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handleCopy, disabled: !canCopy, title: ui.copyTooltip, children: [_jsxDEV(Copy, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 76, columnNumber: 21 }, this), " ", ui.copy] }, void 0, true, { fileName: _jsxFileName, lineNumber: 75, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handlePaste, disabled: !canPaste, title: ui.pasteTooltip, children: [_jsxDEV(Clipboard, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 79, columnNumber: 21 }, this), " ", ui.paste] }, void 0, true, { fileName: _jsxFileName, lineNumber: 78, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handleDuplicate, disabled: !canDuplicate, title: ui.duplicateTooltip, children: [_jsxDEV(CopyPlus, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 82, columnNumber: 21 }, this), " ", ui.duplicate] }, void 0, true, { fileName: _jsxFileName, lineNumber: 81, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handleDelete, disabled: !canDelete, title: ui.deleteTooltip, children: [_jsxDEV(Trash2, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 85, columnNumber: 21 }, this), " ", ui.delete] }, void 0, true, { fileName: _jsxFileName, lineNumber: 84, columnNumber: 17 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 67, columnNumber: 13 }, this), _jsxDEV("div", { className: "field-controls-group", children: [_jsxDEV("div", { className: "field-controls-label", children: ui.fieldControlsGroupTransform }, void 0, false, { fileName: _jsxFileName, lineNumber: 89, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => handleRotate(true), disabled: !canRotate, title: ui.rotateClockwiseTooltip, children: [_jsxDEV(RotateCw, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 91, columnNumber: 21 }, this), " ", ui.rotateClockwise] }, void 0, true, { fileName: _jsxFileName, lineNumber: 90, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => handleRotate(false), disabled: !canRotate, title: ui.rotateCounterClockwiseTooltip, children: [_jsxDEV(RotateCcw, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 94, columnNumber: 21 }, this), " ", ui.rotateCounterClockwise] }, void 0, true, { fileName: _jsxFileName, lineNumber: 93, columnNumber: 17 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 88, columnNumber: 13 }, this), _jsxDEV("div", { className: "field-controls-group", children: [_jsxDEV("div", { className: "field-controls-label", children: ui.fieldControlsGroupBuild }, void 0, false, { fileName: _jsxFileName, lineNumber: 98, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: handlePlace, disabled: !canPlace, title: ui.placeFacilityTooltip, children: [_jsxDEV(Plus, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 100, columnNumber: 21 }, this), " ", ui.placeFacility] }, void 0, true, { fileName: _jsxFileName, lineNumber: 99, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => pathEditing.startPathPlacement(PathTypeID.BELT), disabled: editMode !== EditMode.MANIPULATE, title: ui.placeBeltPathTooltip, children: [_jsxDEV(BriefcaseConveyorBelt, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 107, columnNumber: 21 }, this), " ", ui.placeBeltPath] }, void 0, true, { fileName: _jsxFileName, lineNumber: 102, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => pathEditing.startPathPlacement(PathTypeID.PIPE), disabled: editMode !== EditMode.MANIPULATE, title: ui.placePipePathTooltip, children: [_jsxDEV(Droplets, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 114, columnNumber: 21 }, this), " ", ui.placePipePath] }, void 0, true, { fileName: _jsxFileName, lineNumber: 109, columnNumber: 17 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 97, columnNumber: 13 }, this), _jsxDEV("div", { className: "field-controls-group", children: [_jsxDEV("div", { className: "field-controls-label", children: ui.fieldControlsGroupFixtures }, void 0, false, { fileName: _jsxFileName, lineNumber: 118, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => isPlacingBridge ? cancelFixturePlacement() : startFixturePlacing(FixtureBehaviorType.BRIDGE), disabled: !canPlaceFixture, title: ui.placeBridgeTooltip, children: [isPlacingBridge ? _jsxDEV(X, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 124, columnNumber: 39 }, this) : _jsxDEV(Shuffle, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 124, columnNumber: 63 }, this), " ", ui.placeBridge] }, void 0, true, { fileName: _jsxFileName, lineNumber: 119, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => isPlacingSplitter ? cancelFixturePlacement() : startFixturePlacing(FixtureBehaviorType.SPLITTER), disabled: !canPlaceFixture, title: ui.placeSplitterTooltip, children: [isPlacingSplitter ? _jsxDEV(X, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 131, columnNumber: 41 }, this) : _jsxDEV(Split, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 131, columnNumber: 65 }, this), " ", ui.placeSplitter] }, void 0, true, { fileName: _jsxFileName, lineNumber: 126, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => isPlacingConverger ? cancelFixturePlacement() : startFixturePlacing(FixtureBehaviorType.CONVERGER), disabled: !canPlaceFixture, title: ui.placeConvergerTooltip, children: [isPlacingConverger ? _jsxDEV(X, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 138, columnNumber: 42 }, this) : _jsxDEV(Merge, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 138, columnNumber: 66 }, this), " ", ui.placeConverger] }, void 0, true, { fileName: _jsxFileName, lineNumber: 133, columnNumber: 17 }, this), _jsxDEV(ActionButton, { onClick: () => isPlacingControlPort ? cancelFixturePlacement() : startFixturePlacing(FixtureBehaviorType.CONTROL_PORT), disabled: !canPlaceFixture, title: ui.placeControlPortTooltip, children: [isPlacingControlPort ? _jsxDEV(X, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 145, columnNumber: 44 }, this) : _jsxDEV(Wrench, { size: iconSize }, void 0, false, { fileName: _jsxFileName, lineNumber: 145, columnNumber: 68 }, this), " ", ui.placeControlPort] }, void 0, true, { fileName: _jsxFileName, lineNumber: 140, columnNumber: 17 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 117, columnNumber: 13 }, this)] }, void 0, true, { fileName: _jsxFileName, lineNumber: 52, columnNumber: 13 }, this));
}
